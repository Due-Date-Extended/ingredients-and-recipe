<!DOCTYPE html>
<html>
    <head>
        <title>Recipe</title>
        <link rel="stylesheet" href="styles.css">
        <style>
            .center {
                display: block;
                margin-left: auto;
                margin-right: auto;
                width: 120px;
            }
            table, th, td {
                border: 1px solid black;
                border-collapse: collapse;
                padding: 10px;
            }
            .col1, .col2{
                color: white;
                background-color: white;
                border: 1px solid black;
                padding: 30px;
                margin: 10px;
                
            }
            p{
                color:black
            }
            table{
                color: black
            }
            .card {
                padding: 30px;
                box-shadow: 8px 14px 38px rgba(39, 44, 49, .06), 1px 3px 8px rgba(39, 44, 49, .03);
                transition: 0.3s;
                background-color: white;
                border: 1px solid black;
                margin-bottom: 20px;
                border-radius: 5px;
                opacity: 1;
                width: 20%;
            }
        </style>
    </head>

    <body id="recipeBody">
        <div id="navbar"></div>
        <script>
          fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
              document.getElementById('navbar').innerHTML = data;
            });
        </script>

        <main id="top" >
            


          <div id="recipes" style="margin-top: 120px;">
            
      
            <section class="recipe-container" style=" width: 95%; display: flex; flex-wrap: wrap; justify-content: space-evenly; margin-left: 20px;">
                
            </section>
      
          </div>
      
        </main>
        
        <script>
            window.onload = async function () {
              const urlParams = new URLSearchParams(window.location.search);
              const mealId = urlParams.get('id'); // Get the ?id=XXXX from the URL
          
              if (mealId) {
                await getAndLoadAPIRecipe(mealId);
              }
            }
          
            async function getAndLoadAPIRecipe(mealId) {
              let response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealId}`);
              let data = await response.json();
              let meal = data.meals[0];
          
              let result = `
                <h1 style:"text-align: left">${meal.strMeal}</h1>
            
                <div  style= " width: 95%; height: 590px; padding: 15px; display: flex; justify-content: space-between; margin-left: 15px;">  
                    
                    <div class="col1" style=" border-radius: 10px;  background-color: white; width:48%; height: 450px; float:left; justify-content: space-between; ">  
        
                        <img class="center" src="${meal.strMealThumb}">
                        <p><strong>Category:</strong> ${meal.strCategory}</p>
                        <p><strong>Area:</strong> ${meal.strArea}</p>
                       
                        <table>
                            <tr>
                                <th>Ingredient</th>
                                <th>Measurement</th>
                            </tr>
                            <tr>
                                <td>${meal.strIngredient1}</td>
                                <td>${meal.strMeasure1}</td>
                            </tr>
                            <tr>
                                <td>${meal.strIngredient2}</td>
                                <td>${meal.strMeasure2}</td>
                            </tr>
                            <tr>
                                <td>${meal.strIngredient3}</td>
                                <td>${meal.strMeasure3}</td>
                            </tr>
                            <tr>
                                <td>${meal.strIngredient4}</td>
                                <td>${meal.strMeasure4}</td>
                            </tr>
                            <tr>
                                <td>${meal.strIngredient5}</td>
                                <td>${meal.strMeasure5}</td>
                            </tr>
                        </table>
                        <br>
                        <button type="submit">Add to favorites</button>
                    </div>  
            
                     <div class="col2" style=" border-radius: 10px; background-color: white; width: 48%; height: 450px; float:left;">  
                          <h2 style="text-align: center; color:black">Instructions</h2>
                          <p>${meal.strInstructions}</p>
                     </div>  
        
                     
                 </div>
                
              `;
          
              const recipeContainer = document.querySelector('.recipe-container');
              recipeContainer.innerHTML = result;
            }
          </script>
          
        
        
        <footer>
          <div style=" height:20px; padding:10px; background-color: black; align-content: space-evenly;">
            
            <a href="#top" class="skip" id="topSkip" >Skip to top</a>
          </div>
        </footer>
        
      </body>



</html>